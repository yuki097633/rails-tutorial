{"filter":false,"title":"user_test.rb","tooltip":"/sample_app/test/models/user_test.rb","undoManager":{"mark":12,"position":12,"stack":[[{"start":{"row":71,"column":36},"end":{"row":71,"column":37},"action":"insert","lines":[":"],"id":2},{"start":{"row":71,"column":37},"end":{"row":71,"column":38},"action":"insert","lines":["r"]},{"start":{"row":71,"column":38},"end":{"row":71,"column":39},"action":"insert","lines":["e"]},{"start":{"row":71,"column":39},"end":{"row":71,"column":40},"action":"insert","lines":["m"]},{"start":{"row":71,"column":40},"end":{"row":71,"column":41},"action":"insert","lines":["e"]},{"start":{"row":71,"column":41},"end":{"row":71,"column":42},"action":"insert","lines":["n"]}],[{"start":{"row":71,"column":42},"end":{"row":71,"column":43},"action":"insert","lines":["b"],"id":3},{"start":{"row":71,"column":43},"end":{"row":71,"column":44},"action":"insert","lines":["e"]},{"start":{"row":71,"column":44},"end":{"row":71,"column":45},"action":"insert","lines":["r"]},{"start":{"row":71,"column":45},"end":{"row":71,"column":46},"action":"insert","lines":[","]}],[{"start":{"row":71,"column":46},"end":{"row":71,"column":47},"action":"insert","lines":[" "],"id":4}],[{"start":{"row":71,"column":41},"end":{"row":71,"column":42},"action":"remove","lines":["n"],"id":5}],[{"start":{"row":71,"column":41},"end":{"row":71,"column":42},"action":"insert","lines":["m"],"id":6}],[{"start":{"row":73,"column":0},"end":{"row":74,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":74,"column":0},"end":{"row":75,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":74,"column":0},"end":{"row":80,"column":5},"action":"insert","lines":["  test \"associated microposts should be destroyed\" do","    @user.save","    @user.microposts.create!(content: \"Lorem ipsum\")","    assert_difference 'Micropost.count', -1 do","      @user.destroy","    end","  end"],"id":8}],[{"start":{"row":81,"column":0},"end":{"row":82,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":82,"column":0},"end":{"row":83,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":82,"column":0},"end":{"row":90,"column":5},"action":"insert","lines":["  test \"should follow and unfollow a user\" do","    michael = users(:michael)","    archer  = users(:archer)","    assert_not michael.following?(archer)","    michael.follow(archer)","    assert michael.following?(archer)","    michael.unfollow(archer)","    assert_not michael.following?(archer)","  end"],"id":10}],[{"start":{"row":88,"column":0},"end":{"row":89,"column":0},"action":"insert","lines":["",""],"id":11}],[{"start":{"row":88,"column":0},"end":{"row":88,"column":45},"action":"insert","lines":["    assert archer.followers.include?(michael)"],"id":12}],[{"start":{"row":92,"column":0},"end":{"row":93,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":93,"column":0},"end":{"row":94,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":93,"column":0},"end":{"row":109,"column":5},"action":"insert","lines":["  test \"feed should have the right posts\" do","    michael = users(:michael)","    archer  = users(:archer)","    lana    = users(:lana)","    # フォローしているユーザーの投稿を確認","    lana.microposts.each do |post_following|","      assert michael.feed.include?(post_following)","    end","    # 自分自身の投稿を確認","    michael.microposts.each do |post_self|","      assert michael.feed.include?(post_self)","    end","    # フォローしていないユーザーの投稿を確認","    archer.microposts.each do |post_unfollowed|","      assert_not michael.feed.include?(post_unfollowed)","    end","  end"],"id":14}]]},"ace":{"folds":[],"scrolltop":1569.5,"scrollleft":0,"selection":{"start":{"row":109,"column":5},"end":{"row":109,"column":5},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":97,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1576068459662,"hash":"a72afb8c7d0b58643ddd45cab1dc48e9c1f8fc8a"}